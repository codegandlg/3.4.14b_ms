<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<meta id="i18n_pagename" content="index-common">
	    <meta http-equiv="Access-Control-Allow-Origin" content="*">
		<link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.min.css"/>
		<link rel="stylesheet" type="text/css" href="css/libs/font-awesome.css"/>	
		<link href="css/bootstrap-switch.min.css" rel="stylesheet" />
		<link rel="stylesheet" type="text/css" href="css/base.css"/>
		<link rel="stylesheet" href="css/main.css" />
		<link rel="stylesheet" href="css/loading.css" />
		<link type="image/x-icon" href="img/favicon.png" rel="shortcut icon"/>
		<script src="js/util_gw.js"></script>
		<style type="text/css">
			.popup,.popbox{
				display: none;
			}
			.ipvf label{
				width: 120px;
			}
			.form-group_smart input{
				margin: 0 10px;
			}
			.enable_dhcpv6s_div{
				display: none;
			}
			.dhcpv6s input,.enable_dhcpv6s_div input{
				width: 2%;
			}
		</style>
	</head>
	<body onload="Load_Setting();">
		<div class="guest_net_parent">
			<div>
				<form action="/boafrm/formNewIpv6Setup" method="POST" name="tcpip">
					<div class="form-group" style="margin-bottom: 10px;">
						<div class="intell guest_mode i18n" name="ipv6_title">&nbsp;</div>
						<div class="switch_check">
							<input type="checkbox" class="checkbox_switch" name="wan_enable"  id="checkbox_switch1" value="ON" style="display: none;"/>
						</div>
					</div>
					<div class="form-group_smart"><p class="p_tips i18n" name="ipv6__tips"></p></div>
					<hr />
					<!--因特网配置  start-->
					<div class="form-group_smart"><span class="wan_title i18n" name="wan_title"></span></div>
					<hr />
					<div class="form-group ipvf">
						<label class="i18n" name="Origin_Type_label"></label>&nbsp;&nbsp;
						<select class="type_select" id="OriginType" size="1" name="OriginType">
							<option value="0" class="i18n" name="auto_ipv6"></option>
							<option value="1" class="i18n" name="static_ipv6"></option>
							<!--<option value="2" class="i18n" name="6rd_ipv6"></option>-->
						</select>					
					</div>
					<div class="wan_dhcp">
						<input type="hidden" name="dhcpType">
						<input type="radio" value="stateless" name="dhcpMode">
						<input type="radio" value="stateful" name="dhcpMode">
						
						
					</div>
					<div class="static_div">
						<label class="i18n" name="wanipaddress_label"></label>&nbsp;&nbsp;
						<input type="text" name="wan_ip_0" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Addr_0"); %>">:
						<input type="text" name="wan_ip_1" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Addr_1"); %>">:
						<input type="text" name="wan_ip_2" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Addr_2"); %>">:
						<input type="text" name="wan_ip_3" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Addr_3"); %>">:
						<input type="text" name="wan_ip_4" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Addr_4"); %>">:
						<input type="text" name="wan_ip_5" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Addr_5"); %>">:
						<input type="text" name="wan_ip_6" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Addr_6"); %>">:
						<input type="text" name="wan_ip_7" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Addr_7"); %>">			
						<input type="text" name="prefix_len_ip" size="4" maxlength="4" enable value="<% getIPv6WanInfo("wan_ipv6Addr_prefixLen"); %>">
					</div>
					<div class="static_div">
						<label class="i18n" name="wanipgw_label"></label>&nbsp;&nbsp;
						<input type="text" name="wan_gw_0" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Gw_0"); %>">:
						<input type="text" name="wan_gw_1" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Gw_1"); %>">:
						<input type="text" name="wan_gw_2" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Gw_2"); %>">:
						<input type="text" name="wan_gw_3" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Gw_3"); %>">:
						<input type="text" name="wan_gw_4" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Gw_4"); %>">:
						<input type="text" name="wan_gw_5" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Gw_5"); %>">:
						<input type="text" name="wan_gw_6" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Gw_6"); %>">:
						<input type="text" name="wan_gw_7" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Gw_7"); %>">	
						<input type="text" name="prefix_len_gw" size="4" maxlength="4" enable value="<% getIPv6WanInfo("wan_ipv6Gw_prefixLen"); %>">
					</div>
					<div class="form-group ipvf">
						<label class="i18n" name="dns_title"></label>&nbsp;&nbsp;
						<select class="type_select" id="linkType_dns" size="1" name="dnsSelect">
							<option value="0" class="i18n" name="dns_auto_ipv6"></option>
							<option value="1" class="i18n" name="dns_static_ipv6"></option>
						</select>					
					</div>
					<div class="wan_dns">
						<input type="hidden" name="dnsType">
						<input type="radio" value="dnsAuto" name="dnsMode">
						<input type="radio" value="dnsManual" name="dnsMode">
						
					</div>
					<div class="dns_div">
						<label class="i18n" name="wanipaddress_label"></label>&nbsp;&nbsp;
						<input type="text" name="wan_dns1_0" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Dns1_0"); %>">:
						<input type="text" name="wan_dns1_1" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Dns1_1"); %>">:
						<input type="text" name="wan_dns1_2" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Dns1_2"); %>">:
						<input type="text" name="wan_dns1_3" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Dns1_3"); %>">:
						<input type="text" name="wan_dns1_4" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Dns1_4"); %>">:
						<input type="text" name="wan_dns1_5" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Dns1_5"); %>">:
						<input type="text" name="wan_dns1_6" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Dns1_6"); %>">:
						<input type="text" name="wan_dns1_7" size="4" maxlength="4" value="<% getIPv6WanInfo("wan_ipv6Dns1_7"); %>">
						<input type="text" name="prefix_len_dns1" size="4" maxlength="4" enable value="<% getIPv6WanInfo("wan_ipv6Dns1_prefixLen"); %>">
					</div>
					<!--因特网配置  end-->
					<!--局域网配置  start-->
					<div class="form-group_smart"><span class="wan_title i18n" name="lan_title"></span></div>
					<hr />
					<div class="form-group ipvf">
						<label class="i18n" name="Lancast_label"></label>&nbsp;&nbsp;
						<select class="type_select" id="lan_OriginType" size="1" name="lan_OriginType">
							<option value="0" class="i18n" name="router_auto_ipv6"></option>
							<option value="1" class="i18n" name="router_static_ipv6"></option>
							<!--<option value="2" class="i18n" name="6rd_ipv6"></option>-->
						</select>					
					</div>
					<div class="lan_select">
						<input type="hidden" name="ipv6lanOrigin">
						
					</div>
					<div class="lan_div">
						<label class="i18n" name="lanipaddress_label"></label>&nbsp;&nbsp;
						<input type="text" name="lan_ip_0" size="4" maxlength="4" value="<% getIPv6WanInfo("lan_ipv6Addr_0"); %>">:
						<input type="text" name="lan_ip_1" size="4" maxlength="4" value="<% getIPv6WanInfo("lan_ipv6Addr_1"); %>">:
						<input type="text" name="lan_ip_2" size="4" maxlength="4" value="<% getIPv6WanInfo("lan_ipv6Addr_2"); %>">:
						<input type="text" name="lan_ip_3" size="4" maxlength="4" value="<% getIPv6WanInfo("lan_ipv6Addr_3"); %>">:
						<input type="text" name="lan_ip_4" size="4" maxlength="4" value="<% getIPv6WanInfo("lan_ipv6Addr_4"); %>">:
						<input type="text" name="lan_ip_5" size="4" maxlength="4" value="<% getIPv6WanInfo("lan_ipv6Addr_5"); %>">:
						<input type="text" name="lan_ip_6" size="4" maxlength="4" value="<% getIPv6WanInfo("lan_ipv6Addr_6"); %>">:
						<input type="text" name="lan_ip_7" size="4" maxlength="4" value="<% getIPv6WanInfo("lan_ipv6Addr_7"); %>">
						<input type="text" name="prefix_len_lan" size="4" maxlength="4"  value="<% getIPv6WanInfo("lan_ipv6Addr_prefixLen"); %>">
					</div>
					<div class="form-group ipvf enable_dhcpv6s_div">
						<label class="i18n" name="ipv6_dhcp_title"></label>&nbsp;&nbsp;
						<input type="checkbox" name="enable_dhcpv6s" id="enable_dhcpv6s" value="1">					
					</div>
					<div class="dhcpserver_lan">
						<!--<div class="form-group ipvf dhcpv6s">
							<label class="i18n" name="enable_dhcpv6s_title"></label>&nbsp;&nbsp;
							<input type="checkbox" name="enable_dhcpv6s" value ="">					
						</div>-->
						<div class="form-group ipvf">
							<label class="i18n" name="addr_dhcpv6s_title"></label>&nbsp;&nbsp;
							<input type="text" name="dnsaddr" size="48" maxlength="48" value="<% getIPv6Info("dnsaddr"); %>">					
						</div>
						<div class="form-group ipvf">
							<label class="i18n" name="interface_dhcpv6s_title"></label>&nbsp;&nbsp;
							<input type="text" name="interfacenameds" size="48" maxlength="48" value="<% getIPv6Info("interfacenameds"); %>">					
						</div>
						<div class="form-group ipvf">
							<label class="i18n" name="dhcp6s_pool_dhcpv6s_title"></label>&nbsp;&nbsp;
							<!--<input type="text" name="dhcp6s_pool" size="48" maxlength="48" value="">-->					
						</div>
						<div class="form-group ipvf">
							<label class="i18n" name="addrPoolStart_dhcpv6s_title"></label>&nbsp;&nbsp;
							<input type="text" name="addrPoolStart" size="48" maxlength="48" value="<% getIPv6Info("addrPoolStart"); %>">					
						</div>
						<div class="form-group ipvf">
							<label class="i18n" name="addrPoolEnd_dhcpv6s_title"></label>&nbsp;&nbsp;
							<input type="text" name="addrPoolEnd"size="48" maxlength="48" value="<% getIPv6Info("addrPoolEnd"); %>">					
						</div>
					</div>
					<!--局域网配置  end-->
					<div></div>
					<div class="ipv6Button">
						<button class="i18n" type="submit" value="Save" name="save" onClick="return multiWanIpv6_saveChanges()"></button>
					</div>	
        			<input type="hidden" value="/ipv6.html" name="submit-url">
				</form>
			</div>
			<div class="popup"></div>
				<div class="popbox window" id="center">
					<div class="loading">
			    
					     <p>
					
					  <i></i>
					  <i></i>
					  <i></i>
					  <i></i>
					  <i></i>
					</p>
					<!--<span class="inloading i18n" name="inloading"></span>-->
					</div>
				</div>
		</div>
		<script src="js/jquery.js"></script>
		<script src="js/bootstrap.js"></script>
		<script src="js/bootstrap-switch.min.js"></script>
		<script src="js/jquery.cookie.js"></script>
	    <!-- 加载语言包文件 -->
	    <script src="js/jquery.i18n.properties.js"></script>
	    <script src="js/language.js"></script>
	    <script type="text/javascript">
	    	var i18nLanguage=getCookie('userLanguage');
	    	var ipv6WanEnable = <%getIPv6WanInfo("ipv6WanEnabled")%>;
	    	var dhcp6s_invalid_dns,dhcp6s_invalid_start_ip,dhcp6s_invalid_end_ip,ipv6_wan_invalid_static_ip,ipv6_wan_invalid_gw,ipv6_wan_invalid_dns1,dhcp6s_invalid_lan_ipv6;
	    	if(i18nLanguage=='en'){
	    		dhcp6s_invalid_dns='Invalid dns Address';
	    		dhcp6s_invalid_start_ip='Invalid Start Address';
	    		dhcp6s_invalid_end_ip='Invalid End Address';
	    		ipv6_wan_invalid_static_ip='static ip address invalid!';
	    		ipv6_wan_invalid_gw='gateway address invalid!';
	    		ipv6_wan_invalid_dns1='dns1 address invalid!';
	    		dhcp6s_invalid_lan_ipv6 = 'LAN address invalid!';
	    	}else{
	    		dhcp6s_invalid_dns='dns地址无效';
	    		dhcp6s_invalid_start_ip='无效的起始地址';
	    		dhcp6s_invalid_end_ip='无效的结束地址';
	    		ipv6_wan_invalid_static_ip='静态IP地址无效!';
	    		ipv6_wan_invalid_gw= '网关地址无效!';
	    		ipv6_wan_invalid_dns1='dns1地址无效!';
	    		dhcp6s_invalid_lan_ipv6 = '局域网地址无效!';
	    	}
	    	$(document).ready(function(){
	    		$('#checkbox_switch1').bootstrapSwitch({
					onText: "",
					offText: "",
					onColor: "success",
					offColor: "info",
					size: "small",
					onSwitchChange: function(event, state) {
						if (state == true) {
							ipv6_enable_wan_all();
						} else {
							ipv6_disable_wan_all();
						}
					}
				});
	    	})
	    	//弹出窗口******start********
			//获取窗口的高度 
			 var windowHeight; 
			 //获取窗口的宽度 
			 var windowWidth; 
			 //获取弹窗的宽度 
			 var popWidth; 
			 //获取弹窗高度 
			 var popHeight; 
			 function init(){ 
			    windowHeight=$(window).height(); 
			    windowWidth=$(window).width(); 
			    popHeight=$(".window").height(); 
			    popWidth=$(".window").width(); 
			 } 
			 
			 
			 //定义弹出居中窗口的方法 
		     function popCenterWindow(){ 
		         init(); 
		         //计算弹出窗口的左上角Y的偏移量 
				 var popY=(windowHeight-popHeight)/2; 
			     var popX=(windowWidth-popWidth)/2; 
			      //设定窗口的位置 
			     $("#center").css("top",popY).css("left",popX).slideToggle("slow");  
		      }
	    	
	    	//弹出窗口******end********
	    	
			function Load_Setting()
			{
				var ipv6Origin = <% getIPv6WanInfo("ipv6Origin"); %>;
				//0:DHCP 1:STATIC 2:6RD
				var ipv6lanOrigin = <% getIPv6Info("ipv6lanOrigin")%>; 
			
				var ipv6LinkType = <%getIPv6WanInfo("ipv6LinkType");%>;
				//0:IP 1:PPP
				
				var wanDnsAuto = <%getIPv6WanInfo("wan_ipv6DnsAuto");%>; //dns
				var dhcpMode=<%getIPv6WanInfo("wan_ipv6DhcpMode")%>;  
				var enable_dhcp6s = <% getIPv6Info("enable_dhcpv6s"); %>;	//dhcp
				var ipv6lanOrigin = <% getIPv6Info("ipv6lanOrigin")%>;  //路由设置
				var sixrdMode=<%getIPv6WanInfo("wan_sixrdMode")%>;
				if(ipv6WanEnable)
				{
					$('[name="wan_enable"]').bootstrapSwitch('state', true);
					document.tcpip.wan_enable.value=1;
				}
				else
				{
					$('[name="wan_enable"]').bootstrapSwitch('state', false);
					document.tcpip.wan_enable.value=0;
					ipv6_disable_wan_all();
					return;
				}
				
				//for dns
				if(wanDnsAuto)
				{
					document.tcpip.elements["dnsMode"][1].checked = true;
					//disableDNSinput();
				}else
				{
					document.tcpip.elements["dnsMode"][0].checked = true;
					//enableDNSinput();
				}
				if(dhcpMode==0)
				{
					document.tcpip.elements["dhcpMode"][0].checked = true;
					
			
				}else
				{
					document.tcpip.elements["dhcpMode"][1].checked = true;
					
				}
				
				//原类型
				document.tcpip.OriginType.selectedIndex = ipv6Origin;
				originTypeSelection(document.tcpip.OriginType);
				//dns
				document.tcpip.dnsSelect.selectedIndex = wanDnsAuto;
				linkTypeSelection(document.tcpip.dnsSelect);
				//路由设置
				document.tcpip.lan_OriginType.selectedIndex = ipv6lanOrigin;
				lan_OriginTypeSelection(document.tcpip.lan_OriginType);				
				//DHCP服务器
				//document.tcpip.lan_dnsSelect.selectedIndex = enable_dhcp6s;
				if(ipv6lanOrigin){
					if(enable_dhcp6s){
					document.tcpip.enable_dhcpv6s.checked = true;
					$(".dhcpserver_lan").css("display","block");
				}else{
					document.tcpip.enable_dhcpv6s.checked = false;
					$(".dhcpserver_lan").css("display","none");
				}
				}
				
//				lan_dnsSelectSelection(document.tcpip.lan_dnsSelect);
				
				//局域网
				if(ipv6lanOrigin) //manual
				{
					document.tcpip.ipv6lanOrigin.value=1;
				}else //auto
				{
					document.tcpip.ipv6lanOrigin.value=0;
				}
			
			}
			
			//原类型
			$("#OriginType").change(function(){
				var value=$(this).val();
				if(value==0){
					document.tcpip.dhcpType.value=1;
					$(".static_div").css("display","none");
				}else{
					document.tcpip.dhcpType.value=0;
					$(".static_div").css("display","block");
				}
			})
			
			//dns
			$("#linkType_dns").change(function(){
				var value=$(this).val();
				if(value==0){
					document.tcpip.dnsType.value=1;
					$(".dns_div").css("display","none");
				}else{
					document.tcpip.dnsType.value=0;
					$(".dns_div").css("display","block");
				}
			})

			//路由设置
			$("#lan_OriginType").change(function(){
				var value=$(this).val();
				var aa=$("input[name='enable_dhcpv6s']").prop('checked');
				if(value==0){
					document.tcpip.ipv6lanOrigin.value=0;
					$(".lan_div").css("display","none");
					$(".enable_dhcpv6s_div").css("display","none");
					$(".dhcpserver_lan").css("display","none");
				}else{
					document.tcpip.ipv6lanOrigin.value=1;
					$(".lan_div").css("display","block");
					$(".enable_dhcpv6s_div").css("display","block");
					if(aa){
						$(".dhcpserver_lan").css("display","block");
					}else{
						
					}
					
				}
			})
			
			//dhcp
			$("#enable_dhcpv6s").click(function(){
				if($(this).prop("checked")){
					//document.tcpip.enable_dhcpv6s.value=1;
					$(".dhcpserver_lan").css("display","block");
				}else{
					//document.tcpip.enable_dhcpv6s.value=0;
					$(".dhcpserver_lan").css("display","none");
				}
			})
			function multiWanIpv6_saveChanges(){
				var status_value=$('[name="wan_enable"]').bootstrapSwitch('state');
				var dhcpTypevalue=$("#OriginType option:selected").val();
				var ipv6lanOriginvalue=$("#lan_OriginType option:selected").val();
				var lan_linkType_alue=$("input[name='enable_dhcpv6s']").prop('checked');//false
				//var lan_linkType_selectvalue=$("#lan_linkType option:selected").val();
				
				if(lan_linkType_alue){
					document.tcpip.enable_dhcpv6s.value=1;
					document.tcpip.enable_dhcpv6s.checked = true;
				}else{
					document.tcpip.enable_dhcpv6s.value=0;
					document.tcpip.enable_dhcpv6s.checked = false;
				}
				
				document.tcpip.dhcpType.value=dhcpTypevalue;
				var dnsTypevalue=$("#linkType_dns option:selected").val();
				if(dnsTypevalue==0){
					document.tcpip.dnsType.value=1;
					document.tcpip.elements["dnsMode"][0].checked = true;
				}else{
					document.tcpip.dnsType.value=0;
					document.tcpip.elements["dnsMode"][1].checked = true;
				}
				document.tcpip.ipv6lanOrigin.value=ipv6lanOriginvalue;
				//document.tcpip.enable_dhcpv6s.value=lan_linkType_selectvalue;
				
				
				
				if(!document.tcpip.wan_enable.checked)
				{
					return true;
				}
				if(dhcpTypevalue==1&&status_value==true)
				{
					with(document.tcpip)
					{
						if(!checkIpv6Addr(wan_ip_0,wan_ip_1,wan_ip_2,wan_ip_3,wan_ip_4,wan_ip_5,
							wan_ip_6,wan_ip_7,prefix_len_ip,ipv6_wan_invalid_static_ip))
							return false;
						if(!checkIpv6Addr(wan_gw_0,wan_gw_1,wan_gw_2,wan_gw_3,wan_gw_4,wan_gw_5,
							wan_gw_6,wan_gw_7,prefix_len_gw,ipv6_wan_invalid_gw))
							return false;			
					}
				}
				if(dnsTypevalue==1&&status_value==true)
				{
					with(document.tcpip)
					{
						if(elements["dnsMode"][1].checked == true)
						{
							if(!checkIpv6Addr(wan_dns1_0,wan_dns1_1,wan_dns1_2,wan_dns1_3,wan_dns1_4,
								wan_dns1_5,wan_dns1_6,wan_dns1_7,prefix_len_dns1,ipv6_wan_invalid_dns1))
								return false;				
						}
					}
				}
				
				if(lan_linkType_alue==true&&status_value==true){
					with(document.tcpip){
						if(!checkIpv6Addr(lan_ip_0,lan_ip_1,lan_ip_2,lan_ip_3,lan_ip_4,
						lan_ip_5,lan_ip_6,lan_ip_7,prefix_len_lan,dhcp6s_invalid_lan_ipv6))
						return false;
					}
									
				}
				
				
				if(lan_linkType_alue==true&&status_value==true)  // only manual mode & enable dhcp6s , need check dns_addr& addr pool.
				{
					with(document.tcpip){
						if(!checkIPv6(dnsaddr.value)){
							alert(dhcp6s_invalid_dns);
							dnsaddr.focus();
							return false;
						}
			
						if(!checkIPv6(addrPoolStart.value)){
							alert(dhcp6s_invalid_start_ip);
							addrPoolStart.focus();
							return false;
						}
			
						if(!checkIPv6(addrPoolEnd.value)){
							alert(dhcp6s_invalid_end_ip);
							addrPoolEnd.focus();
							return false;
						}
					}
					
				}
				//********进度条相关***********
				popCenterWindow();
			 	$(".popup").show();
				$(".popup,.popbox").css("display","block");
				$("#myModal").css("display","none");
				//********进度条相关***********
				//document.tcpip.submit();
			}
			function originTypeSelection(field){
				if(field.selectedIndex == 0){
					document.tcpip.OriginType.selectedIndex=0;
					document.tcpip.dhcpType.value=1;
					$(".static_div").css("display","none");
				}else{
					document.tcpip.OriginType.selectedIndex=1;
					document.tcpip.dhcpType.value=0;
					$(".static_div").css("display","block");
					document.tcpip.wan_ip_0.disabled=false;
					document.tcpip.wan_ip_1.disabled=false;
					document.tcpip.wan_ip_2.disabled=false;
					document.tcpip.wan_ip_3.disabled=false;
					document.tcpip.wan_ip_4.disabled=false;
					document.tcpip.wan_ip_5.disabled=false;
					document.tcpip.wan_ip_6.disabled=false;
					document.tcpip.wan_ip_7.disabled=false;
					document.tcpip.prefix_len_ip.disabled=false;
					document.tcpip.wan_gw_0.disabled=false;
					document.tcpip.wan_gw_1.disabled=false;
					document.tcpip.wan_gw_2.disabled=false;
					document.tcpip.wan_gw_3.disabled=false;
					document.tcpip.wan_gw_4.disabled=false;
					document.tcpip.wan_gw_5.disabled=false;
					document.tcpip.wan_gw_6.disabled=false;
					document.tcpip.wan_gw_7.disabled=false;
					document.tcpip.prefix_len_gw.disabled=false;
				}
			}
			function linkTypeSelection(field){
				if(field.selectedIndex == 1){
					$("#linkType_dns option:nth-child(1)").prop("selected", 'selected');
					//document.tcpip.dnsType.value=1;
					$(".dns_div").css("display","none");
				}else{
					$("#linkType_dns option:nth-child(2)").prop("selected", 'selected');
					//document.tcpip.dnsType.value=0;
					$(".dns_div").css("display","block");
					document.tcpip.wan_dns1_0.disabled=false;
					document.tcpip.wan_dns1_1.disabled=false;
					document.tcpip.wan_dns1_2.disabled=false;
					document.tcpip.wan_dns1_3.disabled=false;
					document.tcpip.wan_dns1_4.disabled=false;
					document.tcpip.wan_dns1_5.disabled=false;
					document.tcpip.wan_dns1_6.disabled=false;
					document.tcpip.wan_dns1_7.disabled=false;
					document.tcpip.prefix_len_dns1.disabled=false;
				}
			}
			function lan_OriginTypeSelection(field){
				if(field.selectedIndex == 0){
					document.tcpip.lan_OriginType.selectedIndex=0;
					document.tcpip.ipv6lanOrigin.value=0;
					$(".lan_div").css("display","none");
					$(".enable_dhcpv6s_div").css("display","none");
					//document.tcpip.enable_dhcpv6s.disabled=true;
				}else{
					document.tcpip.lan_OriginType.selectedIndex=1;
					document.tcpip.ipv6lanOrigin.value=1;
					$(".lan_div").css("display","block");
					$(".enable_dhcpv6s_div").css("display","block");
					document.tcpip.lan_ip_0.disabled=false;
					document.tcpip.lan_ip_1.disabled=false;
					document.tcpip.lan_ip_2.disabled=false;
					document.tcpip.lan_ip_3.disabled=false;
					document.tcpip.lan_ip_4.disabled=false;
					document.tcpip.lan_ip_5.disabled=false;
					document.tcpip.lan_ip_6.disabled=false;
					document.tcpip.lan_ip_7.disabled=false;
					document.tcpip.prefix_len_lan.disabled=false;
					document.tcpip.enable_dhcpv6s.disabled=false;
					document.tcpip.dnsaddr.disabled=false;
					document.tcpip.interfacenameds.disabled=false;
					//document.tcpip.dhcp6s_pool.disabled=false;
					document.tcpip.addrPoolStart.disabled=false;
					document.tcpip.addrPoolEnd.disabled=false;
				}
			}
			
			function ipv6_enable_wan_all(){
				document.tcpip.dnsSelect.disabled=false;
				document.tcpip.OriginType.disabled=false;
				document.tcpip.lan_OriginType.disabled=false;
				document.tcpip.enable_dhcpv6s.disabled=false;
				document.tcpip.wan_enable.value=1;
				ipv6WanEnable = 1;
				
				var OriginType_value=$("#OriginType option:selected").val();
				if(OriginType_value==1){
					document.tcpip.wan_ip_0.disabled=false;
					document.tcpip.wan_ip_1.disabled=false;
					document.tcpip.wan_ip_2.disabled=false;
					document.tcpip.wan_ip_3.disabled=false;
					document.tcpip.wan_ip_4.disabled=false;
					document.tcpip.wan_ip_5.disabled=false;
					document.tcpip.wan_ip_6.disabled=false;
					document.tcpip.wan_ip_7.disabled=false;
					document.tcpip.prefix_len_ip.disabled=false;
					document.tcpip.wan_gw_0.disabled=false;
					document.tcpip.wan_gw_1.disabled=false;
					document.tcpip.wan_gw_2.disabled=false;
					document.tcpip.wan_gw_3.disabled=false;
					document.tcpip.wan_gw_4.disabled=false;
					document.tcpip.wan_gw_5.disabled=false;
					document.tcpip.wan_gw_6.disabled=false;
					document.tcpip.wan_gw_7.disabled=false;
					document.tcpip.prefix_len_gw.disabled=false;
				}
				var dnsSelect_value=$("#linkType_dns option:selected").val();
				if(dnsSelect_value==1){
					document.tcpip.wan_dns1_0.disabled=false;
					document.tcpip.wan_dns1_1.disabled=false;
					document.tcpip.wan_dns1_2.disabled=false;
					document.tcpip.wan_dns1_3.disabled=false;
					document.tcpip.wan_dns1_4.disabled=false;
					document.tcpip.wan_dns1_5.disabled=false;
					document.tcpip.wan_dns1_6.disabled=false;
					document.tcpip.wan_dns1_7.disabled=false;
					document.tcpip.prefix_len_dns1.disabled=false;
				}
				
				var lan_OriginType_value=$("#lan_OriginType option:selected").val();
				if(lan_OriginType_value==1){
					document.tcpip.lan_ip_0.disabled=false;
					document.tcpip.lan_ip_1.disabled=false;
					document.tcpip.lan_ip_2.disabled=false;
					document.tcpip.lan_ip_3.disabled=false;
					document.tcpip.lan_ip_4.disabled=false;
					document.tcpip.lan_ip_5.disabled=false;
					document.tcpip.lan_ip_6.disabled=false;
					document.tcpip.lan_ip_7.disabled=false;
					document.tcpip.prefix_len_lan.disabled=false;
					document.tcpip.enable_dhcpv6s.disabled=false;
				}
				
				var lan_linkType_value=$("input[name='enable_dhcpv6s']").prop('checked')
				if(lan_linkType_value==false){
					document.tcpip.dnsaddr.disabled=false;
					document.tcpip.interfacenameds.disabled=false;
					document.tcpip.addrPoolStart.disabled=false;
					document.tcpip.addrPoolEnd.disabled=false;
				}
				Load_Setting();
			}
			function ipv6_disable_wan_all(){
				document.tcpip.dnsSelect.disabled=true;
				document.tcpip.OriginType.disabled=true;
				document.tcpip.lan_OriginType.disabled=true;
				document.tcpip.enable_dhcpv6s.disabled=true;
				var OriginType_value=$("#OriginType option:selected").val();
				if(OriginType_value==1){
					document.tcpip.wan_ip_0.disabled=true;
					document.tcpip.wan_ip_1.disabled=true;
					document.tcpip.wan_ip_2.disabled=true;
					document.tcpip.wan_ip_3.disabled=true;
					document.tcpip.wan_ip_4.disabled=true;
					document.tcpip.wan_ip_5.disabled=true;
					document.tcpip.wan_ip_6.disabled=true;
					document.tcpip.wan_ip_7.disabled=true;
					document.tcpip.prefix_len_ip.disabled=true;
					document.tcpip.wan_gw_0.disabled=true;
					document.tcpip.wan_gw_1.disabled=true;
					document.tcpip.wan_gw_2.disabled=true;
					document.tcpip.wan_gw_3.disabled=true;
					document.tcpip.wan_gw_4.disabled=true;
					document.tcpip.wan_gw_5.disabled=true;
					document.tcpip.wan_gw_6.disabled=true;
					document.tcpip.wan_gw_7.disabled=true;
					document.tcpip.prefix_len_gw.disabled=true;
				}
				var dnsSelect_value=$("#linkType_dns option:selected").val();
				if(dnsSelect_value==1){
					document.tcpip.wan_dns1_0.disabled=true;
					document.tcpip.wan_dns1_1.disabled=true;
					document.tcpip.wan_dns1_2.disabled=true;
					document.tcpip.wan_dns1_3.disabled=true;
					document.tcpip.wan_dns1_4.disabled=true;
					document.tcpip.wan_dns1_5.disabled=true;
					document.tcpip.wan_dns1_6.disabled=true;
					document.tcpip.wan_dns1_7.disabled=true;
					document.tcpip.prefix_len_dns1.disabled=true;
				}
				var lan_OriginType_value=$("#lan_OriginType option:selected").val();
				if(lan_OriginType_value==1){
					document.tcpip.lan_ip_0.disabled=true;
					document.tcpip.lan_ip_1.disabled=true;
					document.tcpip.lan_ip_2.disabled=true;
					document.tcpip.lan_ip_3.disabled=true;
					document.tcpip.lan_ip_4.disabled=true;
					document.tcpip.lan_ip_5.disabled=true;
					document.tcpip.lan_ip_6.disabled=true;
					document.tcpip.lan_ip_7.disabled=true;
					document.tcpip.prefix_len_lan.disabled=true;
					document.tcpip.enable_dhcpv6s.disabled=true;
				}
				
				var lan_linkType_value=$("input[name='enable_dhcpv6s']").prop('checked');
				if(lan_linkType_value==true){
					//document.tcpip.enable_dhcpv6s.disabled=true;
					document.tcpip.dnsaddr.disabled=true;
					document.tcpip.interfacenameds.disabled=true;
					//document.tcpip.dhcp6s_pool.disabled=true;
					document.tcpip.addrPoolStart.disabled=true;
					document.tcpip.addrPoolEnd.disabled=true;
				}
			}
	    </script>
	</body>
</html>
